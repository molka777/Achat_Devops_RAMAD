#docker-compose.yml
version: '3'
services:
  mysql:
   image: mysql:latest
   ports:
     - 3306:3306
   environment:
     MYSQL_ROOT_PASSWORD: root
     MYSQL_DATABASE: achatdb
   volumes:
     - mysql_data:/var/lib/mysql
  spring-app:
   image: rchidbaccouchi/examdevops
   ports:
     - 8089:8089
   depends_on:
     - mysql
   environment:
     SPRING_DATASOURCE_URL: jdbc:mysql://192.168.163.67:3306/achatdb
     SPRING_DATASOURCE_USERNAME: root
     SPRING_DATASOURCE_PASSWORD: root
volumes:
  mysql_data: